<div data-spot-comments-target='rating' class="comment-rating">
  <div class="count-wrapper">
    <div class="comment-rating-avg">
      <p><%= spot.avg_rating %></p>
    </div>
    <div class="comment-rating-count label">
      <p><%= spot.comments.count %> avis</p>
    </div>
  </div>
  <div class="comment-rating-line comment-rating-range-1">
    <div class="completed-comment-range" style="width:<%= spot.comments.where("rating = 5").count * 100 / spot.comments.count%>%"></div>
  </div>
  <div class="comment-rating-line comment-rating-range-2">
    <div class="completed-comment-range" style="width:<%= spot.comments.where("rating = 4").count * 100 / spot.comments.count%>%"></div>
  </div>
  <div class="comment-rating-line comment-rating-range-3">
    <div class="completed-comment-range" style="width:<%= spot.comments.where("rating = 3").count * 100 / spot.comments.count%>%"></div>
  </div>
  <div class="comment-rating-line comment-rating-range-4">
    <div class="completed-comment-range" style="width:<%= spot.comments.where("rating = 2").count * 100 / spot.comments.count%>%"></div>
  </div>
  <div class="comment-rating-line comment-rating-range-5">
    <div class="completed-comment-range" style="width:<%= spot.comments.where("rating = 1").count * 100 / spot.comments.count%>%"></div>
  </div>
</div>
